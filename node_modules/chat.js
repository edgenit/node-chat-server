exports.Chat = {
  clients: [],

  // Connect the given client.
  //
  // client - A Client instance.
  connect: function(client) {
    this.clients.push(client);

    this.send(client.nick + " connected.\n", "+ ");
  },

  // Disconnect the given client.
  //
  // client - A Client instance.
  disconnect: function(client) {
    var index = this.clients.indexOf(client);

    this.clients.splice(index, 1);

    this.send(client.nick + " disconnected.\n", "- ");
  },

  // Send the given message to all clients.
  //
  // message - A string describing a message.
  // prefix  - A String describing how to prefix the message. Defaults to "> ".
  send: function(message, prefix) {
    if(!prefix) prefix = "> "

    for(var i in this.clients) {
      var client = this.clients[i];

      client.send(message, prefix);
    }
  }
}


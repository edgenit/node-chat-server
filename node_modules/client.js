exports.Client = function(socket) {

  return {
    // A string describing the client's IP address.
    ip: socket.remoteAddress,

    // A string describing the client's nickname.
    nick: socket.remoteAddress,

    // A Socket instance.
    socket: socket,

    // A boolean describing whether the client is an administrator.
    administrator: false,

    // Send the given message to the client.
    //
    // message - A string describing a message.
    // prefix  - A String describing how to prefix the message. Defaults to "> ".
    send: function(message, prefix) {
      if(this.socket.writable) {
        this.socket.write(prefix + message);
      }
    },

    // Commands that the client may run.
    commands: {

      // Change nickname.
      nick: function(name) {
        Chat.send(this.nick + " is now known as " + name + ".\n", "! ");

        this.nick = name;
      },

      // Kick another client.
      kick: function(nick) {
        if(this.administrator) {
          Chat.send(this.nick + " kicked " + nick + "!\n", "! ");

          Chat.clients.forEach(function(client) {
            if(client.nick == nick) client.disconnect();
          });
        } else {
          this.send("You must be an administrator to issue this command.\n", "! ");
        }
      },

      // Disconnect the client.
      disconnect: function() {
        Chat.send(this.nick + " disconnected.\n", "! ");
        Chat.disconnect(client);
      }
    }
  }
}


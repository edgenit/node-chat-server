exports.Client = function(socket) {

  return {
    // A string describing the client's IP address.
    ip: socket.remoteAddress,

    // A string describing the client's nickname.
    nick: socket.remoteAddress,

    // A Socket instance.
    socket: socket,

    // Send the given message to the client.
    //
    // message - A string describing a message.
    // prefix  - A String describing how to prefix the message. Defaults to "> ".
    send: function(message, prefix) {
      if(this.socket.writable) {
        this.socket.write(prefix + message);
      }
    },

    // Commands that the client may run.
    commands: {

      // Change nickname.
      nick: function(name) {
        Chat.send(this.nick + " is now known as " + name + ".\n", "! ");

        this.nick = name;
      },

      // Kick another client.
      kick: function(nick) {
        Chat.send(this.nick + " kicked " + nick + "!\n", "! ");

        for(var i in Chat.clients) {
          var client = Chat.clients[i];

          if(client.nick == nick) break;
        }

        Chat.disconnect(client);
      }
    }
  }
}

